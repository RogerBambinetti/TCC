#include <stdlib.h>
#include <stdio.h>
#include <math.h>
#include "ic_defs.h"
#include "ic_rom.h"

float ic_gains[4]		= { .8f, .6f, .85f, 1.0f };
float ic_EQ[4][100]= {
              { 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f,
                1.000000f, 1.000000f, 1.000000f, 1.000000f  },
              { 1.121712f, 1.122008f, 1.121955f, 1.121516f, 1.120628f, 1.119073f, 1.116428f, 1.111803f,
                1.104924f, 1.097965f, 1.082214f, 1.062917f, 1.043171f, 1.024110f, 1.006401f, 0.990401f,
                0.976184f, 0.963719f, 0.952860f, 0.943458f, 0.935333f, 0.928334f, 0.922306f, 0.917121f,
                0.912670f, 0.908850f, 0.905581f, 0.902789f, 0.900417f, 0.898409f, 0.896725f, 0.895324f,
                0.894176f, 0.893252f, 0.892528f, 0.891984f, 0.891601f, 0.891364f, 0.891259f, 0.891273f,
                0.891397f, 0.891621f, 0.891936f, 0.892334f, 0.892810f, 0.893356f, 0.893968f, 0.894641f,
                0.895370f, 0.896150f, 0.896979f, 0.897853f, 0.898768f, 0.899722f, 0.900712f, 0.901735f,
                0.902791f, 0.903874f, 0.904985f, 0.906120f, 0.907280f, 0.908460f, 0.909661f, 0.910879f,
                0.912116f, 0.913367f, 0.914634f, 0.915913f, 0.917206f, 0.918167f, 0.920225f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f  },
              { 1.121371f, 1.121997f, 1.121884f, 1.120955f, 1.119079f, 1.115808f, 1.110277f, 1.100708f,
                1.086710f, 1.072825f, 1.042371f, 1.006764f, 0.972091f, 0.940152f, 0.911710f, 0.886950f,
                0.865644f, 0.847465f, 0.831992f, 0.818856f, 0.807692f, 0.798209f, 0.790136f, 0.783265f,
                0.777416f, 0.772432f, 0.768194f, 0.764594f, 0.761548f, 0.758979f, 0.756832f, 0.755050f,
                0.753593f, 0.752423f, 0.751507f, 0.750819f, 0.750336f, 0.750037f, 0.749904f, 0.749923f,
                0.750079f, 0.750361f, 0.750759f, 0.751262f, 0.751863f, 0.752555f, 0.753330f, 0.754183f,
                0.755108f, 0.756100f, 0.757156f, 0.758269f, 0.759438f, 0.760658f, 0.761926f, 0.763239f,
                0.764595f, 0.765990f, 0.767424f, 0.768892f, 0.770393f, 0.771925f, 0.773487f, 0.775075f,
                0.776691f, 0.778329f, 0.779991f, 0.781673f, 0.783376f, 0.784645f, 0.787371f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f  },
              { 0.702965f, 0.699945f, 0.700486f, 0.704982f, 0.714205f, 0.730652f, 0.758979f, 0.806332f,
                0.861454f, 0.892457f, 0.904528f, 0.899582f, 0.911081f, 0.941186f, 0.985404f, 1.038155f,
                1.092862f, 1.141803f, 1.177776f, 1.196087f, 1.196164f, 1.181031f, 1.155472f, 1.124237f,
                1.091025f, 1.058210f, 1.027211f, 0.998647f, 0.972764f, 0.949489f, 0.928684f, 0.910099f,
                0.893520f, 0.878698f, 0.865439f, 0.853539f, 0.842845f, 0.833196f, 0.824480f, 0.816579f,
                0.809393f, 0.802850f, 0.796869f, 0.791395f, 0.786368f, 0.781746f, 0.777483f, 0.773547f,
                0.769901f, 0.766521f, 0.763380f, 0.760457f, 0.757731f, 0.755188f, 0.752807f, 0.750579f,
                0.748488f, 0.746526f, 0.744679f, 0.742941f, 0.741302f, 0.739757f, 0.738295f, 0.736914f,
                0.735605f, 0.734366f, 0.733190f, 0.732073f, 0.731012f, 0.730261f, 0.728756f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f, 0.000000f,
                0.000000f, 0.000000f, 0.000000f, 0.000000f  }
};

IC_DMX ICDmx = {0};
IC_CONFIG ICConfig = {0};

const IC_RULES ICRules[47]	=
{ /* idx         az   el lfe ctype, gtype, eqidx			*/
  { CHN_M_L030,   30,   0,  0,  L  , D, A}, /**< left front                         */
  { CHN_M_R030,  -30,   0,  0,  R  , D, A}, /**< right front                        */
  { CHN_M_000,     0,   0,  0,  C  , D, A}, /**< centre front                       */
  { CHN_LFE1,      0, -15,  1,  C  , D, A}, /**< Front LFE                          */
  { CHN_M_L110,  110,   0,  0,  L  , A, A}, /**< left surround                      */
  { CHN_M_R110, -110,   0,  0,  R  , A, A}, /**< right surround                     */
  { CHN_M_L022,   22,   0,  0,  L  , D, A}, /**< left front centre                  */
  { CHN_M_R022,  -22,   0,  0,  R  , D, A}, /**< right front centre                 */
  { CHN_M_L135,  135,   0,  0,  L  , A, A}, /**< rear surround left 1               */
  { CHN_M_R135, -135,   0,  0,  R  , A, A}, /**< rear surround right 1              */
  { CHN_M_180,   180,   0,  0,  C  , B, A}, /**< rear centre                        */
  { CHN_EMPTY,    -1,  -1, -1,  -1  , -1, -1}, /**< reserved                         */
  { CHN_EMPTY,    -1,  -1, -1,  -1  , -1, -1}, /**< reserved                         */
  { CHN_M_L090,   90,   0,  0,  L  , A, A}, /**< left side surround                 */
  { CHN_M_R090,  -90,   0,  0,  R  , A, A}, /**< right side surround                */
  { CHN_M_L060,   60,   0,  0,  L  , A, A}, /**< left front wide                    */
  { CHN_M_R060,  -60,   0,  0,  R  , A, A}, /**< right front wide                   */
  { CHN_U_L030,   30,  35,  0,  L  , C, B}, /**< left front vertical height 1       */
  { CHN_U_R030,  -30,  35,  0,  R  , C, B}, /**< right front vertical height 1      */
  { CHN_U_000,     0,  35,  0,  C  , C, B}, /**< centre front vertical height       */
  { CHN_U_L135,  135,  35,  0,  L  , C, C}, /**< left surround vertical height rear */
  { CHN_U_R135, -135,  35,  0,  R  , C, C}, /**< right surround vertical height rear*/
  { CHN_U_180,   180,  35,  0,  C  , C, C}, /**< centre vertical height rear        */
  { CHN_U_L090,   90,  35,  0,  L  , C, C}, /**< left vertical height side surround */
  { CHN_U_R090,  -90,  35,  0,  R  , C, C}, /**< right vertical height side surround*/
  { CHN_T_000,     0,  90,  0,  C  , A, D}, /**< top centre surround                */
  { CHN_LFE2,     45, -15,  1,  C  , D, A}, /**< left front LFE                     */
  { CHN_L_L045,   45, -15,  0,  L  , D, A}, /**< left front vertical bottom         */
  { CHN_L_R045,  -45, -15,  0,  R  , D, A}, /**< right front vertical bottom        */
  { CHN_L_000,     0, -15,  0,  C  , D, A}, /**< centre front vertical bottom       */
  { CHN_U_L110,  110,  35,  0,  L  , C, C}, /**< left surround vertical height      */
  { CHN_U_R110, -110,  35,  0,  R  , C, C}, /**< right surround vertical height     */
  { CHN_U_L045,   45,  35,  0,  L  , C, B}, /**< left front vertical height  2      */
  { CHN_U_R045,  -45,  35,  0,  R  , C, B}, /**< right front vertical height 2      */
  { CHN_M_L045,   45,   0,  0,  L  , D, A}, /**< left front 2                       */
  { CHN_M_R045,  -45,   0,  0,  R  , D, A}, /**< right front 2                      */
  { CHN_LFE3,    -45, -15,  1,  C  , D, A}, /**< right front LFE                    */
  { CHN_M_LSCR,   60,   0,  0,  L  , D, A}, /**< left edge of display               */
  { CHN_M_RSCR,  -60,   0,  0,  R  , D, A}, /**< right edge of display              */
  { CHN_M_LSCH,   30,   0,  0,  L  , D, A}, /**< half-way btw. centre of display and left edge of display */
  { CHN_M_RSCH,  -30,   0,  0,  R  , D, A}, /**< half-way btw. centre of display and right edge of display */
  { CHN_M_L150,  150,   0,  0,  L  , A, A}, /**< rear surround left 2               */
  { CHN_M_R150, -150,   0,  0,  R  , A, A}, /**< rear surround right 2              */
};
